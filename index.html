<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ààyè</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            border: 0;

        }
        .paper {
            margin: auto;
            font-size: 0;
            text-align: center;
            height: 100%;
            display: block;
            /*
            padding: 5mm;
            display: table;
            align-content: center;
            flex-wrap: wrap;
            display: flex;
            border: 0.1mm solid lightgray;
            */
        }

        .a4 {
            /*
            width: 210mm;
            height: 297mm;
            */
        }

        @font-face {
            font-family: "p22";
            src: url("./assets/P22Vincent.ttf") format("truetype");
        }

        .card {
            box-sizing: border-box;
            border: 0.01mm solid rgba(90, 49, 20, 0.3);
            padding: 3mm;
            position: relative;
            background-color: tan;
            color: rgb(90, 49, 20);
            font-family: "p22", sans-serif;
            text-shadow: 0.2mm 0.2mm wheat;
            page-break-inside: avoid;
            display: inline-block;
        }

        .mask1,
        .mask2,
        .mask3,
        .mask4 {
            background-image:
                url("assets/mask1.png"),
                url("assets/fundo.png");
            background-size: 26mm, cover;
            background-position: 50% 22%, center center;
            background-repeat: no-repeat, no-repeat;
        }

        .mask2 {
            background-image:
                url("assets/mask2.png"),
                url("assets/fundo.png");
            background-size: 39mm, cover;
            background-position: 50% 15%, center center;
        }

        .mask3 {
            background-image:
                url("assets/mask3.png"),
                url("assets/fundo.png");
            background-size: 32mm, cover;
            background-position: 50% 15%, center center;
        }

        .mask4 {
            background-image:
                url("assets/mask4.png"),
                url("assets/fundo.png");
            background-size: 31mm, cover;
            background-position: 50% 15%, center center;
        }

        .mini-euro {
            width: 45mm;
            height: 68mm;
        }

        .type {
            position: absolute;
            bottom: 3mm;
            width: 39mm;
            height: 12mm;
        }

        .moon .moon,
        .sun .sun {
            font-size: 0;
            background-image: url("assets/moon.png");
            background-size: contain;
            background-position: 50% 50%;
            background-repeat: no-repeat;
        }

        .sun .sun {
            background-image: url("assets/sun.png");
        }

        .pv {
            border: none;
            position: absolute;
            bottom: 3mm;
            left: 3mm;
            width: 10mm;
            height: 10mm;
            text-align: center;
            vertical-align: middle;
            line-height: 10mm;
            font-size: 6.2mm;
            background-image: url("assets/aaye.png");
            background-size: contain;
        }

        .effect {
            position: absolute;
            bottom: 3mm;
            right: 3mm;
            width: 12mm;
            height: 30mm;
            text-align: right;
            display: flex;
            align-items: flex-end;
            flex-direction: column;
            justify-content: flex-end;
            align-content: end;
        }

        .extra {
            position: absolute;
            bottom: calc(40% - 12mm);
            left: calc(50% - 20mm);
            width: 40mm;
            height: 8mm;
            display: flex;
            align-items: center;
            justify-content: center;
            align-content: center;
        }

        .cost {
            position: absolute;
            top: 0.5mm;
            right: 3mm;
            width: 8.3mm;
            height: 10mm;
            font-size: 7mm;
            line-height: 8mm;
            background-repeat: no-repeat;
            text-align: left;
            vertical-align: top;
            background-image: url(assets/sj.png);
            background-size: 5mm;
            background-position: 100% 95%;
        }




        .item {
            width: 6mm;
            height: 6mm;
            display: inline-block;
            font-size: 0;
            background-size: contain;
            background-repeat: no-repeat;
        }

        .sn {
            background-image: url("assets/sn.png");
        }

        .sp,
        .xsp {
            background-image: url("assets/sp.png");
        }

        .so,
        .xso {
            background-image: url("assets/so3.png");
        }

        .sj {
            background-image: url("assets/sj.png");
        }

        .to {
            background-image: url("assets/down.png");
        }

        .ca,
        .xca {
            width: 7mm;
            height: 7mm;
            background-image: url("assets/ca.png");
        }

        .pile,
        .gpile,
        .spile,
        .extra .ca {
            font-size: 0;
            background-image: url("assets/pile.png");
            background-size: contain;
            background-repeat: no-repeat;
            height: 7mm;
            width: 10mm;
        }

        .gpile {
            background-image: url("assets/gpile.png");
        }

        .spile {
            background-image: url("assets/spile.png");
        }

        .extra .ca {
            background-image: url("assets/ca.png");
        }

        .per {
            border-block-color: transparent;
            visibility: hidden;
            width: 6mm;
            height: 8mm;
        }

        .per::before {
            margin: 1.8mm;
            content: ":";
            font-size: 8mm;
            line-height: 8mm;
            visibility: visible;
        }



        .merge,
        .split,
        .mca,
        .ms,
        .sa {
            border: none;
            font-size: 0;
            background-image: url("assets/merge2.png");
            background-size: contain;
            background-repeat: no-repeat;
            width: 12mm;
            height: 10mm;
        }

        .mca {
            background-image: url("assets/mca.png");
        }

        .ms {
            background-image: url("assets/ms.png");
        }

        .split {
            background-image: url("assets/split.png");
        }

        .sa {
            background-image: url("assets/sa3.png");
        }



        .p1 {
            font-size: 0;
            content: "1";
            text-align: center;
            background-image: url("assets/aaye.png");
            background-size: contain;
            width: 7mm;
            height: 7mm;
        }

        .p1::before {
            font-size: 5mm;
            content: "1";
            visibility: visible;
        }

        .p2 {
            font-size: 0;
            content: "2";
            text-align: center;
            background-image: url("assets/aaye.png");
            background-size: contain;
            width: 7mm;
            height: 7mm;
        }

        .p2::before {
            font-size: 5mm;
            content: "2";
            visibility: visible;
        }

        .pn1 {
            font-size: 0;
            content: "1";
            text-align: center;
            background-image: url("assets/aaye.png");
            background-size: contain;
            width: 7mm;
            height: 7mm;
        }

        .pn1::before {
            font-size: 5mm;
            content: "-1";
            visibility: visible;
        }

        .pair,
        .equi,
        .sh {
            font-size: 0;
            width: 15mm;
            height: 7mm;
            background-size: contain;
            background-image: url("assets/pair2.png");
            background-repeat: no-repeat;
        }

        .sh {
            background-image: url("assets/sh.png");
            width: 18mm;
            height: 7mm;
        }

        .equi {
            background-size: 19mm;
            width: 19mm;
            background-image: url("assets/equi2.png");
        }

        .initial {
            font-size: 0;
            background-image: url(assets/initial.png);
            background-size: contain;
            width: 100%;
            margin-left: 0;
            margin-top: -43mm;
            background-size: 9mm;
            background-repeat: no-repeat;
            background-position: left;
            align-self: flex-start;
        }

        @media print {
            html{
                margin: auto;
                -webkit-print-color-adjust: exact;
            }

            h1 {
                display: none;
            }
            .card {
                page-break-inside: avoid;
            }

        }

        @page {
            size: A4 portrait;
            margin: 3mm;
            -webkit-print-color-adjust: exact;
        }
    </style>
</head>

<body>
    <h1>Ààyè<br/ > CC-BY-ND-NC André Teruya &amp; Igor Knop</h1>
    <div class="paper a4"></div>
    <script type="module">
        const CARDS = [
            { mask: 1, type: "moon", cost: 1, effect: ["sn"], pv: 2, extra: ["initial"], qty: 16 },
            { mask: 2, type: "sun", cost: 1, effect: ["sn", "sn",], pv: 2, extra: ["initial"], qty: 8 },
            { mask: 2, type: "sun", cost: 1, effect: ["xsp", "to", "sn", "sn", "sn"], pv: 2, extra: ["initial"], qty: 4 },
            { mask: 2, type: "sun", cost: 1, effect: ["sp"], pv: 2, extra: ["initial"], qty: 4 },

            { mask: 1, type: "moon", cost: 1, effect: ["sn"], pv: 2, extra: [], qty: 2 },
            { mask: 2, type: "sun", cost: 1, effect: ["sn"], pv: 2, extra: [], qty: 2 },

            { mask: 1, type: "moon", cost: 3, effect: ["sn"], pv: 4, extra: [], qty: 2 },
            { mask: 2, type: "sun", cost: 3, effect: ["sn"], pv: 4, extra: [], qty: 2 },

            { mask: 1, type: "moon", cost: 1, effect: ["ms"], pv: 2, extra: [], qty: 2 },
            { mask: 2, type: "sun", cost: 1, effect: ["ms"], pv: 2, extra: [], qty: 2 },

            { mask: 1, type: "moon", cost: 3, effect: ["sa"], pv: 4, extra: [], qty: 2 },
            { mask: 2, type: "sun", cost: 3, effect: ["sa"], pv: 4, extra: [], qty: 2 },

            { mask: 1, type: "moon", cost: 1, effect: ["sp"], pv: 2, extra: [], qty: 4 },
            { mask: 2, type: "sun", cost: 1, effect: ["sp"], pv: 2, extra: [], qty: 4 },
            { mask: 1, type: "moon", cost: 1, effect: ["ca"], pv: 2, extra: [], qty: 2 },
            { mask: 2, type: "sun", cost: 1, effect: ["ca"], pv: 2, extra: [], qty: 4 },

            { mask: 1, type: "moon", cost: 3, effect: ["xsp", "to", "sn", "sn", "sn"], pv: 4, extra: [], qty: 2 },
            { mask: 2, type: "sun", cost: 3, effect: ["xsp", "to", "sn", "sn", "sn"], pv: 4, extra: [], qty: 2 },

            { mask: 1, type: "moon", cost: 3, effect: ["xca", "to", "sj", "sj", "sj"], pv: 4, extra: [], qty: 3 },
            { mask: 2, type: "sun", cost: 3, effect: ["xca", "to", "sj", "sj", "sj"], pv: 4, extra: [], qty: 3 },

            { mask: 1, type: "moon", cost: 5, effect: ["so"], pv: 6, extra: [], qty: 3 },
            { mask: 2, type: "sun", cost: 5, effect: ["so"], pv: 6, extra: [], qty: 3 },


            { mask: 4, type: "moon", cost: 5, effect: ["sn", "sn", "sn"], pv: "?", extra: ["p1", "per", "sn"], qty: 1 },
            { mask: 3, type: "sun", cost: 5, effect: ["sp", "sp"], pv: "?", extra: ["p1", "per", "sp"], qty: 1 },
            { mask: 4, type: "moon", cost: 5, effect: ["so"], pv: "?", extra: ["p1", "per", "so"], qty: 1 },
            { mask: 3, type: "sun", cost: 5, effect: ["mca"], pv: "?", extra: ["p1", "per", "pair"], qty: 1 },
            { mask: 4, type: "moon", cost: 5, effect: ["mca"], pv: "?", extra: ["p1", "per", "equi"], qty: 1 },

            { mask: 4, type: "moon", cost: 5, effect: ["ms"], pv: "?", extra: ["p1", "per", "sh"], qty: 1 },
            { mask: 3, type: "sun", cost: 5, effect: ["xsp", "to", "sn", "sn", "sn"], pv: 16, extra: ["pn1", "per", "sj"], qty: 1 },
            { mask: 4, type: "moon", cost: 5, effect: ["xca", "to", "sj", "sj", "sj"], pv: 16, extra: ["pn1", "per", "ca"], qty: 1 },
            { mask: 3, type: "sun", cost: 5, effect: ["merge"], pv: 6, extra: ["p2", "per", "gpile"], qty: 1 },
            { mask: 4, type: "moon", cost: 5, effect: ["split"], pv: 6, extra: ["p2", "per", "spile"], qty: 1 },

        ];
        const eCards = document.querySelector(".paper");
        const stats = {}
        for (let c in CARDS) {
            const card = CARDS[c];
            for (let i = 0; i < card.qty; i++) {
                eCards.appendChild(createCard(card));
            }
        }
        console.table(stats);
        document.body.appendChild(eCards);
        function createCard(card) {
            const eCard = document.createElement("div");
            eCard.classList.add("card");
            eCard.classList.add("mini-euro");
            eCard.classList.add(card.type);
            eCard.classList.add(`mask${card.mask}`);
            let eType = document.createElement("div");
            eType.classList.add("type");
            eType.classList.add(card.type);
            eType.innerText = card.type;
            eCard.appendChild(eType);
            stats[`${card.type}`] = stats[`${card.type}`] ? stats[`${card.type}`] + 1 : 1;
            let eCost = document.createElement("div");
            eCost.classList.add("cost");
            eCost.innerText = card.cost;
            eCard.appendChild(eCost);
            stats[`$${card.cost}`] = stats[`$${card.cost}`] ? stats[`$${card.cost}`] + 1 : 1;
            let eExtra = document.createElement("div");
            eExtra.classList.add("extra");
            for (const key in card.extra) {
                const item = card.extra[key];
                let eItem = document.createElement("div");
                eItem.classList.add("item");
                eItem.classList.add(item);
                eItem.innerText = item;
                eExtra.appendChild(eItem);
            }
            eCard.appendChild(eExtra);
            let ePV = document.createElement("div");
            ePV.classList.add("pv");
            ePV.innerText = card.pv;
            eCard.appendChild(ePV);
            stats[`${card.pv}pv`] = stats[`${card.pv}pv`] ? stats[`${card.pv}pv`] + 1 : 1;

            let eEffect = document.createElement("div");
            eEffect.classList.add("effect");
            for (const key in card.effect) {
                const item = card.effect[key];
                let eItem = document.createElement("div");
                eItem.classList.add("item");
                eItem.classList.add(item);
                eItem.innerText = item;
                eEffect.appendChild(eItem);
            }
            eCard.appendChild(eEffect);
            return eCard;
        }
    </script>
</body>

</html>